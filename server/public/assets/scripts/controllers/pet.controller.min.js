myApp.controller("PetController",["$uibModal","$log","$routeParams","PetService","$http","TextService","UserListService","$location","$window","UploadService","FavoriteService",function(a,b,c,d,e,f,g,h,i,j,k){var l=this;l.petList=[],l.message=d.allPets.message,e.get("/pets").then(function(a){a.data.user.username?(l.userName=a.data.user.username,l.phoneNumber=a.data.user.phone,l.houseHold=a.data.user.household,l.userList=[],g.getUserList().then(function(a){for(var b=0;b<a.length;b++)a[b].household===l.houseHold&&l.userList.push(a[b])}),d.getPetCare(l.houseHold).then(function(a){l.careList=a})):h.path("/home")}),l.getAllPets=function(){d.getAllPets().then(function(a){l.petList=[];for(var b=0;b<a.length;b++)a[b].household===l.houseHold&&l.petList.push(a[b])})},l.getAllPets(),l.addNewPet=function(){var a={name:l.name,breed:l.breed,color:l.color,age:l.age,agelength:l.agelength,care:l.care,owner:l.owner,feed:l.checkbox.feed,water:l.checkbox.water,walk:l.checkbox.walk,bathe:l.checkbox.bathe,treats:l.checkbox.treats,litter:l.checkbox.treats,household:l.houseHold,petimg:l.petImgUrl,favorites:[]};d.addNewPet(a).then(function(){l.name="",l.breed="",l.color="",l.age="",l.care="",l.owner="",l.checkbox.feed=!1,l.checkbox.water=!1,l.checkbox.walk=!1,l.checkbox.bathe=!1,l.checkbox.treats=!1,l.checkbox.litter=!1,l.uploadMessage=""})},l.removePet=function(){d.removePet(c.id).then(function(){h.path("/userHome")})},l.actionObject={care:[]},l.addAction=function(a,b){switch(b){case"Fed":l.actionObject.care.push(a+" was fed.");break;case"Given Water":l.actionObject.care.push(a+" was given water.");break;case"Walked":l.actionObject.care.push(a+" was taken on a walk.");break;case"Bathed":l.actionObject.care.push(a+" was given a bath.");break;case"Given Treat":l.actionObject.care.push(a+" was given a treat.");break;case"Changed Litter":l.actionObject.care.push(a+" had his/her litter changed.");break;default:alert("None of the cases were met")}},l.sendText=function(){for(var a="",b={action:l.actionObject,number:"",extra:l.observations},c=0;c<l.userList.length;c++)a="+1"+l.userList[c].phone,b.number=a,f.sendText(b);l.actionObject={care:[]},l.observations=""},l.uploadMessage="",l.showPicker=function(){j.showPicker().then(function(a){l.petImgUrl=a,l.uploadMessage="Picture has been uploaded!"})},l.getFavorites=function(){k.getFavorites().then(function(a){l.favoritesList=a})},l.addFavorite=function(){l.petIn=JSON.parse(l.petIn);var a=l.petIn,b=[l.itemType,l.item];a.favorites.push(b),k.addFavorite(a).then(function(){l.getAllPets(),l.item="",l.itemType=""})},l.indivName="",l.indivBreed="",l.indivColor="",l.indivAge="",l.indivPetimg="",l.indivOwner="",l.indivCare="",l.indivFavorites="",l.indivId=c.id,l.getIndividualPet=function(){l.indivId=c.id;var a={};d.getAllPets().then(function(b){for(var d=0;d<b.length;d++)b[d]._id===l.indivId&&(a=b[d]);console.log("%%%%%%%%%%%%%%%%THIS IS THE PET",a),l.indivName=a.name,l.indivBreed=a.breed,l.indivColor=a.color,l.indivAge=a.age+" "+a.agelength,l.indivPetimg=a.petimg,l.indivOwner=a.owner,l.indivCare=a.care,l.indivFavorites=a.favorites,console.log("This is the $routeParams.id",c.id)})},l.open=function(b,c){l.animationsEnabled=!0;var d=c?angular.element($document[0].querySelector(".modal-demo"+c)):void 0;console.log("this is the size and parentSelector",b,c);var e=a.open({animation:l.animationsEnabled,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"myModalContent.html",controller:"ModalInstanceController",controllerAs:"mic",size:b,appendTo:d,resolve:{title:function(){return"Psi Modals Rule!!11!"}}}).result.then(function(){console.log("It was closed!")});console.log("modalInstance:",e)}}]),myApp.controller("ModalInstanceController",["$uibModalInstance","title",function(a,b){var c=this;c.title=b,console.log("vm.title:",c.title),c.ok=function(){a.close()},c.cancel=function(){a.dismiss("cancel")}}]);