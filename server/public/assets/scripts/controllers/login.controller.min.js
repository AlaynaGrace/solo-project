myApp.controller("LoginController",["$http","$location","RegisterService","$window",function(a,b,c,d){console.log("LoginController loaded");var e=this;e.user={username:"",password:""},e.message="",e.login=function(){console.log("here",e.user),""===e.user.username||""===e.user.password?e.message="Enter your username and password!":(console.log("sending to server...",e.user),a.post("/",e.user).then(function(a){console.log(a),a.data.user.username?(console.log("success: ",a.data),console.log("redirecting to user page"),b.path("/userHome")):(console.log("failure: ",a),e.message="Wrong!!")}))},e.registerUser=function(){""===e.user.username||""===e.user.password||""===e.user.phone||""===e.user.household?e.message="Please fill in all of the fields!":c.getHouseholds(e.user.household).then(function(c){console.log("this should sometimes be undefined:",c),e.newHousehold=c,e.newHousehold?e.user.admin=!0:!1===e.newHousehold&&(e.user.admin=!1),console.log("newHousehold:",e.newHousehold),void 0!==e.user.admin&&(console.log("sending to server...",e.user),a.post("/registerUser",e.user).then(function(a){console.log("success"),b.path("/home")},function(a){console.log("error"),e.message="Please try again."}))})}}]);