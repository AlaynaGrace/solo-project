myApp.controller("UserController",["$http","$location","TextService","UserListService","AdminService","$window",function(a,b,c,d,e,f){var g=this;console.log("checking user"),g.logout=function(){a.get("/user/logout").then(function(a){console.log("logged out"),b.path("/home")})},g.getUsers=function(){a.get("/user").then(function(a){a.data.user.username?(g.userName=a.data.user.username,g.phoneNumber=a.data.user.phone,g.houseHold=a.data.user.household,g.admin=a.data.user.admin,g.userList=[],d.getUserList().then(function(a){console.log("this is the data:",a);for(var b=0;b<a.length;b++)a[b].household===g.houseHold&&g.userList.push(a[b])}),console.log("userList in household:",g.userList)):b.path("/home")})},g.getUsers(),g.removeUser=function(b){a({url:"/user/"+b,method:"DELETE"}).then(function(a){console.log(a),g.getUsers()},function(a){console.log(a)})},g.additionalMessage="",g.inviteNewUser=function(){c.inviteNewUser(g.newUserNumber,g.houseHold,g.additionalMessage).then(function(){g.newUserNumber="",g.additionalMessage=""})},g.updateAdminStatus=function(a){console.log("here is the user to change:",a);var b={admin:!0,username:a.username,password:a.password,phone:a.phone,household:a.household};e.changeAdminStatus(b,a._id).then(function(){g.getUsers()})}}]);