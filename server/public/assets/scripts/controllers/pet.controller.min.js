myApp.controller("PetController",["PetService","$http","TextService","UserListService","$location","$window","UploadService",function(a,b,c,d,e,f,g){var h=this;h.petList=[],h.message=a.allPets.message,b.get("/pets").then(function(b){console.log(b),b.data.user.username?(h.userName=b.data.user.username,h.phoneNumber=b.data.user.phone,h.houseHold=b.data.user.household,h.userList=[],d.getUserList().then(function(a){console.log("this is the data from userList:",a);for(var b=0;b<a.length;b++)a[b].household===h.houseHold&&h.userList.push(a[b])}),a.getPetCare(h.houseHold).then(function(a){console.log("this is the careList:",a,"and this is your household:",h.houseHold),h.careList=a}),console.log("User Data: ",h.userList)):e.path("/home")}),h.getAllPets=function(){console.log("getting all pets"),a.getAllPets().then(function(a){console.log("pets",a),h.petList=[];for(var b=0;b<a.length;b++)a[b].household===h.houseHold&&h.petList.push(a[b]);console.log("******in controller:",h.petList)})},h.getAllPets(),h.addNewPet=function(){console.log("adding a new pet!");var b={name:h.name,breed:h.breed,color:h.color,age:h.age,agelength:h.agelength,care:h.care,owner:h.owner,feed:h.checkbox.feed,water:h.checkbox.water,walk:h.checkbox.walk,bathe:h.checkbox.bathe,treats:h.checkbox.treats,litter:h.checkbox.treats,household:h.houseHold,petimg:h.petImgUrl};a.addNewPet(b).then(function(){h.name="",h.breed="",h.color="",h.age="",h.care="",h.owner="",h.checkbox.feed=!1,h.checkbox.water=!1,h.checkbox.walk=!1,h.checkbox.bathe=!1,h.checkbox.treats=!1,h.checkbox.litter=!1})},h.removePet=function(b){console.log("removing",b),a.removePet(b).then(function(){console.log("pet has been removed"),h.getAllPets()})},h.actionObject={care:[]},h.addAction=function(a,b){switch(b){case"Fed":h.actionObject.care.push(a+" was fed.");break;case"Given Water":h.actionObject.care.push(a+" was given water.");break;case"Walked":h.actionObject.care.push(a+" was taken on a walk.");break;case"Bathed":h.actionObject.care.push(a+" was given a bath.");break;case"Given Treat":h.actionObject.care.push(a+" was given a treat.");break;case"Changed Litter":h.actionObject.care.push(a+" had his/her litter changed.");break;default:alert("None of the cases were met")}},h.sendText=function(){for(var a="",b={action:h.actionObject,number:"",extra:h.observations},d=0;d<h.userList.length;d++)a="+1"+h.userList[d].phone,b.number=a,c.sendText(b);console.log("weird object",h.actionObject),h.actionObject={care:[]},h.observations=""},h.showPicker=function(){g.showPicker().then(function(a){h.petImgUrl=a,console.log("Pet img has been uploaded")})}}]);